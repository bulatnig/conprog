plugins {
    id 'java-library'
    id "org.springframework.boot" version "3.2.0"
    id "io.spring.dependency-management" version "1.1.4"
}
ext {
    grpcSpringVersion = '3.0.0-SNAPSHOT'
}

dependencies {
    implementation project(":api")

    implementation platform('org.springframework.boot:spring-boot-dependencies:3.2.0')
    implementation 'org.springframework.boot:spring-boot-starter'
    implementation "net.devh:grpc-server-spring-boot-starter:$grpcSpringVersion"

    testImplementation 'org.junit.jupiter:junit-jupiter'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    testImplementation "net.devh:grpc-client-spring-boot-starter:$grpcSpringVersion"
    testImplementation 'io.grpc:grpc-testing:1.60.0'

    testRuntimeOnly 'org.junit.platform:junit-platform-launcher'
}

tasks.named('test') {
    // Use JUnit Platform for unit tests.
    useJUnitPlatform()
}

